\ Questo file contiene la definizione del font utilizzato nel programma

DECIMAL

VARIABLE END_LOOP
VARIABLE BASE_ADDR

\ Parola utilizzata per creare lo spazio nel campo dati del diziionario necessario per il font
: FONT CREATE HERE  \ ( -- baseaddr) 
	8 256 * ALLOT DOES> \ ( u -- baseaddr) 
	SWAP 8 * + ; 


\ Usiamo questa parola per inserire la matrice 8x8 nella posizione corrispondente al baseaddr del font più l'offset del carattere
\ ( baseaddr c c c c c c c c cindex  -- baseaddr )
: FONT-SHAPE
	9 PICK SWAP 8 * + DUP 8 + 
	\ ( baseaddr c c c c c c c c cindex  -- baseaddr c c c c c c c c start_char end_char )
	\ calcoliamo il primo indirizzo start_char in cui inserire il carattere come baseaddr+(cindex*8)
	\ calcoliamo l'indirizzo di fine ciclo end_char come baseaddr+(cindex*8)+8 e lo memorizziamo nella variabile END_LOOP
	END_LOOP ! 
 	BEGIN 
	   \ ( baseaddr c c c c c c c c start_char  -- baseaddr c c c c c c c start_char c start_char )
	   DUP ROT SWAP 
	   \ inseriamo ogni riga della matrice nell'opportuno indirizzo calcolato da start_char, incrementato ogni volta di 1
	   C! 1 + DUP END_LOOP @ = 
	   \ verifichiamo la condizione di fine ciclo confrontando il contatore (start_char + i) con il contenuto di end_loop
	   \ se è verificata ripuliamo lo stack lasciando solo il baseaddr
	UNTIL 
	   \ ( baseaddr start_char+8 -- baseaddr )
	   DROP ;

\ Parola che setta la base binaria 
: BINARY 2 BASE ! ;

\ Definiamo il font e inseriamo nello spazio creato le lettere necessarie al programma

BINARY

\ Utilizziamo la variabile BASE_ADDR per poter poi accedere ai diversi caratteri

FONT TheMaze DUP BASE_ADDR !

00000000
00000000
00000000
00000000
00000000
00000000
00000000
00000000
CHAR , FONT-SHAPE

00110000
01111000
11001100
11001100
11111100
11001100
11001100
00000000
CHAR A FONT-SHAPE

11111100
01100110
01100110
01111100
01100110
01100110
11111100
00000000
CHAR B FONT-SHAPE

11111000
01101100
01100110
01100110
01100110
01101100
11111000
00000000
CHAR D FONT-SHAPE

11111110
01100010
01101000
01111000
01101000
01100010
11111110
00000000
CHAR E FONT-SHAPE

11111110
01100010
01101000
01111000
01101000
01100000
11110000
00000000
CHAR F FONT-SHAPE

00111100
01100110
11000000
11000000
11001110
01100110
00111110
00000000
CHAR G FONT-SHAPE

11001100
11001100
11001100
11111100
11001100
11001100
11001100
00000000
CHAR H FONT-SHAPE

01111000
00110000
00110000
00110000
00110000
00110000
01111000
00000000
CHAR I FONT-SHAPE

11110000
01100000
01100000
01100000
01100010
01100110
11111110
00000000
CHAR L FONT-SHAPE

11000110
11101110
11111110
11111110
11010110
11000110
11000110
00000000
CHAR M FONT-SHAPE

11000110
11100110
11110110
11011110
11001110
11000110
11000110
00000000
CHAR N FONT-SHAPE

00111000
01101100
11000110
11000110
11000110
01101100
00111000
00000000
CHAR O FONT-SHAPE

11111100
01100110
01100110
01111100
01101100
01100110
11100110
00000000
CHAR R FONT-SHAPE

01111000
11001100
11100000
01110000
00011100
11001100
01111000
00000000
CHAR S FONT-SHAPE

11111100
10110100
00110000
00110000
00110000
00110000
01111000
00000000
CHAR T FONT-SHAPE

11000110
11000110
11000110
11010110
11111110
11101110
11000110
00000000
CHAR W FONT-SHAPE

11111110
11000110
10001100
00011000
00110010
01100110
11111110
00000000
CHAR Z FONT-SHAPE

01111100
11000110
11001110
11011110
11110110
11100110
01111100
00000000
CHAR 0 FONT-SHAPE

00110000
01110000
00110000
00110000
00110000
00110000
11111100
00000000
CHAR 1 FONT-SHAPE

01111000
11001100
00001100
00111000
01100000
11000100
11111100
00000000
CHAR 2 FONT-SHAPE

01111000
11001100
11001100
01111100
00001100
00011000
01110000
00000000
CHAR 9 FONT-SHAPE

00000110
00001100
00011000
00110000
01100000
11000000
10000000
00000000
CHAR / FONT-SHAPE

\ ( baseaddr -- )
DROP

